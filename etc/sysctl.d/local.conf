# Sysctl debug options
debug.exception-trace = 0

# Sysctl fs options
# Location:/Documentation/admin-guide/sysctl/fs.rst
fs.lease-break-time = 5
fs.pipe-max-size = 8388608
fs.protected_fifos = 2
fs.protected_hardlinks = 1
fs.protected_regular = 2
fs.protected_symlinks = 1
fs.suid_dumpable = 0

# Sysctl dev options
dev.hpet.max-user-freq = 1
dev.tty.ldisc_autoload = 0

# Sysctl CFS options
# Location:/kernel/sched/core.c
# Location:/kernel/sched/fair.c
# Location:/kernel/sched/rt.c
# Time Unit us: 7 digits = 1 second
# Time Unit ns: 10 digits = 1 second
kernel.sched_autogroup_enabled = 0
kernel.sched_cfs_bandwidth_slice_us = 15000
kernel.sched_child_runs_first = 1
kernel.sched_deadline_period_max_us = 1000000
kernel.sched_deadline_period_min_us = 1000
kernel.sched_energy_aware = 0
kernel.sched_rr_timeslice_ms = 20
kernel.sched_rt_period_us = 1000000
kernel.sched_rt_runtime_us = 850000
kernel.sched_schedstats = 0
kernel.sched_util_clamp_max = 1024
kernel.sched_util_clamp_min = 0
kernel.sched_util_clamp_min_rt_default = 1024

# Sysctl kernel options
# Location:/Documentation/admin-guide/sysctl/kernel.rst
kernel.bpf_stats_enabled = 0
kernel.dmesg_restrict = 1
kernel.hostname = !
kernel.domainname = !
kernel.ftrace_dump_on_oops = 0
kernel.hardlockup_all_cpu_backtrace = 0
kernel.hardlockup_panic = 1
kernel.hung_task_all_cpu_backtrace = 0
kernel.hung_task_panic = 1
kernel.hung_task_check_count = 5
kernel.hung_task_timeout_secs = 5
kernel.hung_task_check_interval_secs = 5
kernel.hung_task_warnings = 5
kernel.kexec_load_disabled = 1
kernel.kptr_restrict = 2
#kernel.modules_disabled = 1
kernel.nmi_watchdog = 0
kernel.oops_all_cpu_backtrace = 0
kernel.panic = 5
#kernel.panic_on_io_nmi = 1
kernel.panic_on_oops = 1
kernel.panic_on_stackoverflow = 1
#kernel.panic_on_unrecovered_nmi = 1
kernel.panic_on_warn = 1
kernel.panic_on_rcu_stall = 1
kernel.perf_cpu_time_max_percent = 1
kernel.perf_event_max_sample_rate = 1
kernel.perf_event_paranoid = 2
kernel.printk = 1 1 1 1
kernel.printk_delay = 5
kernel.printk_ratelimit = 5
kernel.printk_ratelimit_burst = 5
kernel.printk_devkmsg = off
kernel.randomize_va_space = 2
kernel.shmall = 2048
kernel.shmmax = 8388608
kernel.shmmni = 2048
kernel.shm_rmid_forced = 1
kernel.sysctl_writes_strict = 1
kernel.softlockup_all_cpu_backtrace = 0
kernel.softlockup_panic = 0
kernel.soft_watchdog = 0
kernel.split_lock_mitigate = 1
kernel.stack_erasing = 1
#kernel.unknown_nmi_panic = 1
kernel.unprivileged_bpf_disabled = 1
kernel.unprivileged_userns_clone = 0
kernel.watchdog = 0
kernel.watchdog_thresh = 0
kernel.yama.ptrace_scope = 1
kernel.timer_migration = 0

# Sysctl net core options
# Location:/Documentation/admin-guide/sysctl/net.rst
net.core.somaxconn = 50
net.core.bpf_jit_enable = 0
net.core.bpf_jit_harden = 2
net.core.bpf_jit_kallsyms = 0
net.core.dev_weight = 250
net.core.dev_weight_rx_bias = 1
net.core.dev_weight_tx_bias = 1
# pfifo, cake or noqueue
net.core.default_qdisc = noqueue
net.core.busy_read = 500
net.core.busy_poll = 500
net.core.rmem_default = 2097152
net.core.rmem_max = 2097152
net.core.tstamp_allow_data = 0
net.core.wmem_default = 2097152
net.core.wmem_max = 2097152
net.core.netdev_budget = 320
net.core.netdev_budget_usecs = 3125
# rx_queue_len version of tx_queue_len
net.core.netdev_max_backlog = 250
net.core.netdev_tstamp_prequeue = 0
net.core.netdev_unregister_timeout_secs = 5
net.core.optmem_max = 2097152
net.core.fb_tunnels_only_for_init_net = 1
net.core.devconf_inherit_init_net = 1

# Sysctl net unix options
net.unix.max_dgram_qlen = 500

# Sysctl user options
# Location:/Documentation/admin-guide/sysctl/user.rst
user.max_net_namespaces = 0
user.max_user_namespaces = 0

# Sysctl vm options
# Location:/Documentation/admin-guide/sysctl/vm.rst
vm.block_dump = 0
vm.compaction_proactiveness = 50
vm.dirty_background_ratio = 25
vm.dirty_expire_centisecs = 0
vm.dirty_ratio = 75
vm.dirtytime_expire_seconds = 5
vm.dirty_writeback_centisecs = 0
vm.extfrag_threshold = 500
vm.legacy_va_layout = 0
vm.lowmem_reserve_ratio = 0 0 0
vm.memory_failure_early_kill = 1
vm.memory_failure_recovery = 0
vm.min_free_kbytes = 262144
vm.oom_dump_tasks = 0
vm.oom_kill_allocating_task = 1
vm.page-cluster = 0
vm.panic_on_oom = 2
vm.percpu_pagelist_high_fraction = 500000
vm.numa_stat = 0
vm.swappiness = 5
vm.unprivileged_userfaultfd = 0
vm.vfs_cache_pressure = 5
vm.watermark_boost_factor = 5000
vm.watermark_scale_factor = 1

# Sysctl IP options
# Location:/Documentation/networking/ip-sysctl.rst
net.ipv4.ip_forward = 0
net.ipv4.ip_no_pmtu_disc = 0
net.ipv4.route.min_pmtu = 256
net.ipv4.ip_forward_use_pmtu = 0
net.ipv4.route.mtu_expires = 50
net.ipv4.route.min_adv_mss = 256
net.ipv4.fib_notify_on_flag_change = 0
net.ipv4.ipfrag_high_thresh = 4194304
net.ipv4.ipfrag_low_thresh = 262144
net.ipv4.ipfrag_time = 10
net.ipv4.ipfrag_max_dist = 250
net.ipv4.route.error_burst = 20
net.ipv4.route.error_cost = 5
net.ipv4.tcp_abort_on_overflow = 0
net.ipv4.tcp_adv_win_scale = 0
net.ipv4.tcp_app_win = 0
net.ipv4.tcp_autocorking = 0
net.ipv4.tcp_base_mss = 256
net.ipv4.tcp_mtu_probe_floor = 256
net.ipv4.tcp_min_snd_mss = 256
net.ipv4.tcp_congestion_control = scalable
net.ipv4.tcp_dsack = 0
net.ipv4.tcp_early_retrans = 0
net.ipv4.tcp_ecn = 0
net.ipv4.tcp_ecn_fallback = 0
net.ipv4.tcp_fack = 0
net.ipv4.tcp_fin_timeout = 3
net.ipv4.tcp_frto = 0
net.ipv4.tcp_invalid_ratelimit = 500
net.ipv4.tcp_keepalive_time = 1
net.ipv4.tcp_keepalive_probes = 3
net.ipv4.tcp_keepalive_intvl = 1
net.ipv4.tcp_low_latency = 1
net.ipv4.tcp_max_orphans = 50
net.ipv4.tcp_max_syn_backlog = 250
net.ipv4.tcp_max_tw_buckets = 50
net.ipv4.tcp_mem = 32768 65536 131072
net.ipv4.tcp_min_rtt_wlen = 5
net.ipv4.tcp_moderate_rcvbuf = 0
net.ipv4.tcp_mtu_probing = 0
net.ipv4.tcp_no_metrics_save = 0
net.ipv4.tcp_no_ssthresh_metrics_save = 0
net.ipv4.tcp_orphan_retries = 3
net.ipv4.tcp_probe_interval = 60
net.ipv4.tcp_probe_threshold = 8
net.ipv4.tcp_recovery = 0x4
net.ipv4.tcp_reordering = 0
net.ipv4.tcp_max_reordering = 0
net.ipv4.tcp_retrans_collapse = 0
net.ipv4.tcp_retries1 = 3
net.ipv4.tcp_retries2 = 3
net.ipv4.tcp_rfc1337 = 1
net.ipv4.tcp_rmem = 2097152 2097152 2097152
net.ipv4.tcp_sack = 0
net.ipv4.tcp_comp_sack_delay_ns = 5000000
net.ipv4.tcp_comp_sack_slack_ns = 5000000
net.ipv4.tcp_comp_sack_nr = 50
net.ipv4.tcp_slow_start_after_idle = 0
net.ipv4.tcp_stdurg = 0
net.ipv4.tcp_synack_retries = 3
net.ipv4.tcp_syncookies = 0
net.ipv4.tcp_migrate_req = 0
net.ipv4.tcp_fastopen = 0x1
net.ipv4.tcp_fastopen_blackhole_timeout_sec = 0
net.ipv4.tcp_syn_retries = 3
net.ipv4.tcp_timestamps = 2
net.ipv4.tcp_min_tso_segs = 3
net.ipv4.tcp_tso_rtt_log = 9
net.ipv4.tcp_pacing_ss_ratio = 200
net.ipv4.tcp_pacing_ca_ratio = 120
net.ipv4.tcp_tso_win_divisor = 5
net.ipv4.tcp_tw_reuse = 2
net.ipv4.tcp_window_scaling = 0
net.ipv4.tcp_wmem = 2097152 2097152 2097152
net.ipv4.tcp_notsent_lowat = 2097152
net.ipv4.tcp_workaround_signed_windows = 0
net.ipv4.tcp_thin_linear_timeouts = 0
net.ipv4.tcp_limit_output_bytes = 2097152
net.ipv4.tcp_challenge_ack_limit = 999999999
net.ipv4.tcp_rx_skb_cache = 1
net.ipv4.tcp_tx_skb_cache = 1
net.ipv4.udp_mem = 32768 65536 131072
net.ipv4.udp_rmem_min = 2097152
net.ipv4.udp_wmem_min = 2097152
net.ipv4.ip_local_port_range = 1024 65535
net.ipv4.ip_early_demux = 1
net.ipv4.tcp_early_demux = 1
net.ipv4.udp_early_demux = 1
net.ipv4.icmp_echo_ignore_all = 1
net.ipv4.icmp_echo_ignore_broadcasts = 1
net.ipv4.icmp_ratelimit = 20
net.ipv4.icmp_msgs_per_sec = 20
net.ipv4.icmp_msgs_burst = 256
net.ipv4.icmp_ratemask = 524287
net.ipv4.icmp_ignore_bogus_error_responses = 1
net.ipv4.icmp_errors_use_inbound_ifaddr = 0
net.ipv4.conf.all.force_igmp_version = 0
net.ipv4.conf.default.force_igmp_version = 0
net.ipv4.conf.all.log_martians = 0
net.ipv4.conf.default.log_martians = 0
net.ipv4.conf.all.accept_redirects = 0
net.ipv4.conf.default.accept_redirects = 0
net.ipv4.conf.all.forwarding = 0
net.ipv4.conf.default.forwarding = 0
net.ipv4.conf.all.mc_forwarding = 0
net.ipv4.conf.default.mc_forwarding = 0
net.ipv4.conf.all.proxy_arp = 0
net.ipv4.conf.default.proxy_arp = 0
net.ipv4.conf.all.shared_media = 0
net.ipv4.conf.default.shared_media = 0
net.ipv4.conf.all.secure_redirects = 1
net.ipv4.conf.default.secure_redirects = 1
net.ipv4.conf.all.send_redirects = 0
net.ipv4.conf.default.send_redirects = 0
net.ipv4.conf.all.bootp_relay = 0
net.ipv4.conf.default.bootp_relay = 0
net.ipv4.conf.all.accept_source_route = 0
net.ipv4.conf.default.accept_source_route = 0
net.ipv4.conf.all.accept_local = 0
net.ipv4.conf.default.accept_local = 0
net.ipv4.conf.all.route_localnet = 0
net.ipv4.conf.default.route_localnet = 0
net.ipv4.conf.all.rp_filter = 1
net.ipv4.conf.default.rp_filter = 1
net.ipv4.conf.all.arp_filter = 0
net.ipv4.conf.default.arp_filter = 0
net.ipv4.conf.all.arp_announce = 2
net.ipv4.conf.default.arp_announce = 2
net.ipv4.conf.all.arp_ignore = 1
net.ipv4.conf.default.arp_ignore = 1
net.ipv4.conf.all.arp_notify = 0
net.ipv4.conf.default.arp_notify = 0
net.ipv4.conf.all.arp_accept = 0
net.ipv4.conf.default.arp_accept = 0
net.ipv4.conf.all.drop_unicast_in_l2_multicast = 1
net.ipv4.conf.default.drop_unicast_in_l2_multicast = 1
net.ipv4.conf.all.drop_gratuitous_arp = 1
net.ipv4.conf.default.drop_gratuitous_arp = 1
net.ipv4.conf.all.igmp_link_local_mcast_reports = 0
net.ipv4.conf.default.igmp_link_local_mcast_reports = 0

# Sysctl IPV6 options
# Location:/Documentation/networking/ip-sysctl.rst
net.ipv6.conf.all.disable_ipv6 = 1
net.ipv6.conf.default.disable_ipv6 = 1
net.ipv6.conf.all.forwarding = 0
net.ipv6.conf.default.forwarding = 0
net.ipv6.conf.all.accept_ra = 0
net.ipv6.conf.default.accept_ra = 0
net.ipv6.conf.all.accept_ra_defrtr = 0
net.ipv6.conf.default.accept_ra_defrtr = 0
net.ipv6.conf.all.accept_ra_from_local = 0
net.ipv6.conf.default.accept_ra_from_local = 0
net.ipv6.conf.all.accept_ra_pinfo = 0
net.ipv6.conf.default.accept_ra_pinfo = 0
net.ipv6.conf.all.accept_ra_rtr_pref = 0
net.ipv6.conf.default.accept_ra_rtr_pref = 0
net.ipv6.conf.all.accept_redirects = 0
net.ipv6.conf.default.accept_redirects = 0
net.ipv6.conf.all.autoconf = 0
net.ipv6.conf.default.autoconf = 0
net.ipv6.conf.all.dad_transmits = 0
net.ipv6.conf.default.dad_transmits = 0
net.ipv6.conf.all.router_solicitations = 0
net.ipv6.conf.default.router_solicitations = 0
net.ipv6.conf.all.use_tempaddr = 2
net.ipv6.conf.default.use_tempaddr = 2
net.ipv6.conf.all.max_addresses = 1
net.ipv6.conf.default.max_addresses = 1
net.ipv6.conf.all.accept_dad = 0
net.ipv6.conf.default.accept_dad = 0
net.ipv6.conf.all.addr_gen_mode = 3
net.ipv6.conf.default.addr_gen_mode = 3
net.ipv6.conf.all.drop_unicast_in_l2_multicast = 1
net.ipv6.conf.default.drop_unicast_in_l2_multicast = 1
net.ipv6.conf.all.drop_unsolicited_na = 1
net.ipv6.conf.default.drop_unsolicited_na = 1
net.ipv6.conf.all.enhanced_dad = 0
net.ipv6.conf.default.enhanced_dad = 0
net.ipv6.icmp.ratelimit = 20
net.ipv6.icmp.ratemask = 0-255,0-255
net.ipv6.icmp.echo_ignore_all = 1
net.ipv6.icmp.echo_ignore_multicast = 1
net.ipv6.icmp.echo_ignore_anycast = 1

# Sysctl netfilter options
# Location:/Documentation/networking/nf_conntrack-sysctl.rst
net.netfilter.nf_conntrack_buckets = 2097152
net.netfilter.nf_conntrack_events = 0
net.netfilter.nf_conntrack_frag6_timeout = 10
net.netfilter.nf_conntrack_generic_timeout = 10
net.netfilter.nf_conntrack_icmp_timeout = 1
net.netfilter.nf_conntrack_icmpv6_timeout = 1
net.netfilter.nf_conntrack_max = 250
net.netfilter.nf_conntrack_dccp_loose = 0
net.netfilter.nf_conntrack_tcp_ignore_invalid_rst = 1
net.netfilter.nf_conntrack_tcp_loose = 0
net.netfilter.nf_conntrack_tcp_max_retrans = 3
net.netfilter.nf_conntrack_tcp_timeout_close = 2
net.netfilter.nf_conntrack_tcp_timeout_close_wait = 3
net.netfilter.nf_conntrack_tcp_timeout_established = 60
net.netfilter.nf_conntrack_tcp_timeout_fin_wait = 3
net.netfilter.nf_conntrack_tcp_timeout_last_ack = 3
net.netfilter.nf_conntrack_tcp_timeout_max_retrans = 10
net.netfilter.nf_conntrack_tcp_timeout_syn_recv = 10
net.netfilter.nf_conntrack_tcp_timeout_syn_sent = 10
net.netfilter.nf_conntrack_tcp_timeout_time_wait = 3
net.netfilter.nf_conntrack_tcp_timeout_unacknowledged = 10
net.netfilter.nf_conntrack_sctp_timeout_closed = 2
net.netfilter.nf_conntrack_sctp_timeout_cookie_wait = 3
net.netfilter.nf_conntrack_sctp_timeout_cookie_echoed = 3
net.netfilter.nf_conntrack_sctp_timeout_established = 10
net.netfilter.nf_conntrack_sctp_timeout_shutdown_sent = 1
net.netfilter.nf_conntrack_sctp_timeout_shutdown_recd = 1
net.netfilter.nf_conntrack_sctp_timeout_shutdown_ack_sent = 3
net.netfilter.nf_conntrack_sctp_timeout_heartbeat_sent = 10
net.netfilter.nf_conntrack_udp_timeout = 10
net.netfilter.nf_conntrack_udp_timeout_stream = 10
net.netfilter.nf_conntrack_gre_timeout = 10
net.netfilter.nf_conntrack_gre_timeout_stream = 10
net.netfilter.nf_flowtable_tcp_timeout = 10
net.netfilter.nf_flowtable_udp_timeout = 10
net.netfilter.nf_conntrack_dccp_timeout_closereq = 3
net.netfilter.nf_conntrack_dccp_timeout_closing = 3
net.netfilter.nf_conntrack_dccp_timeout_open = 10
net.netfilter.nf_conntrack_dccp_timeout_partopen = 10
net.netfilter.nf_conntrack_dccp_timeout_request = 10
net.netfilter.nf_conntrack_dccp_timeout_respond = 10
net.netfilter.nf_conntrack_dccp_timeout_timewait = 3
